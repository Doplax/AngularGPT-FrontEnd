<div class="flex flex-col h-full">
  <!-- Messages Area -->
  <div class="flex-1 overflow-y-auto">
    <div class="max-w-4xl mx-auto px-4 py-8">
      <div class="space-y-0">
        <app-chat-message text="Escribe el texto que quieres que revise" />

        @for (message of messages(); track $index) {
          @if (message.isGpt) {
            <app-gpt-message-orthography
             [text]="message.text"
             [errors]="message.info!.errors"
             [userScore]="message.info!.userScore" />
          } @else {
            <app-my-message [text]="message.text" />
          }
        }
        @if(isLoading()){
          <app-typing-loader />
        }
      </div>
    </div>
  </div>

  <!-- MessageBox - Fixed at bottom -->
  <div class="flex-shrink-0 pt-3 pb-6">
    <div class="max-w-4xl mx-auto px-4">
      <app-text-message-box
        placeHolder="Escribe algo aquí"
        (onMessage)="handleMessage($event)"
        [disableCorrections]="true"
      />
      <p class="text-center text-xs text-gray-500 mt-3 px-2">
        AngularGPT puede cometer errores. Considera verificar información importante.
      </p>
    </div>
  </div>
</div>
